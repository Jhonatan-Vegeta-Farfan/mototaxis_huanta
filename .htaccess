RewriteEngine On
RewriteBase /mototaxis_huanta/

# Habilitar rewrite
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /mototaxis_huanta/

    # RUTAS PÚBLICAS - Acceso sin autenticación
    RewriteRule ^consulta-publica$ public_api.php [L]
    RewriteRule ^api/publico$ public_api.php [L]
    RewriteRule ^api/documentacion$ api.php [L]

    # ENDPOINTS API JSON
    RewriteRule ^api/v1/validar$ api.php?action=validar [QSA,L]
    RewriteRule ^api/v1/listar$ api.php?action=listar [QSA,L]
    RewriteRule ^api/v1/buscar$ api.php?action=buscar [QSA,L]
    RewriteRule ^api/v1/buscar-dni$ api.php?action=buscarDni [QSA,L]

    # Reglas existentes para el sistema administrativo
    RewriteRule ^admin/(.*)$ index.php?controller=$1 [QSA,L]
    RewriteRule ^([^/]+)/([^/]+)$ index.php?controller=$1&action=$2 [QSA,L]
</IfModule>